{"version":3,"sources":["webpack://DD_SDK/webpack/universalModuleDefinition","webpack://DD_SDK/./node_modules/@datadog/framepost/dist/framepost.min.js","webpack://DD_SDK/./src/api/api.ts","webpack://DD_SDK/./src/auth/auth.ts","webpack://DD_SDK/./src/client/client.ts","webpack://DD_SDK/./src/constants.ts","webpack://DD_SDK/./src/dashboard/dashboard-cog-menu/dashboard-cog-menu.ts","webpack://DD_SDK/./src/dashboard/dashboard-custom-widget/dashboard-custom-widget.ts","webpack://DD_SDK/./src/dashboard/dashboard.ts","webpack://DD_SDK/./src/events/events.ts","webpack://DD_SDK/./src/features/dashboard-cog-menu.ts","webpack://DD_SDK/./src/features/dashboard-custom-widget.ts","webpack://DD_SDK/./src/features/index.ts","webpack://DD_SDK/./src/features/modals.ts","webpack://DD_SDK/./src/features/side-panels.ts","webpack://DD_SDK/./src/features/widget-context-menu.ts","webpack://DD_SDK/./src/index.ts","webpack://DD_SDK/./src/location/location.ts","webpack://DD_SDK/./src/modal/modal.ts","webpack://DD_SDK/./src/secrets/secrets.ts","webpack://DD_SDK/./src/shared/feature-client.ts","webpack://DD_SDK/./src/side-panel/side-panel.ts","webpack://DD_SDK/./src/utils/logger.ts","webpack://DD_SDK/./src/utils/utils.ts","webpack://DD_SDK/./src/widget-context-menu/widget-context-menu.ts","webpack://DD_SDK/webpack/bootstrap","webpack://DD_SDK/webpack/startup"],"names":["root","factory","exports","module","define","amd","self","e","573","t","n","r","i","this","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","TypeError","String","constructor","create","defineProperty","value","ChildClient","o","s","a","context","initListener","bind","window","addEventListener","profile","onRequest","REQUEST_KEY_GET_PROFILE","profiler","getEvents","setInitTimer","getLogger","debug","onChannelInit","removeEventListener","messagePort","ports","getInitMessage","postMessage","logEvent","ProfileEventType","POST_MESSAGE","destroy","close","initTimer","clearTimeout","SharedClient","601","DEFAULT_REQUEST_TIMEOUT","SerializationType","TransactionDirection","MessageAPIVersion","MessageType","CHANNEL_INIT","EVENT","REQUEST","RESPONSE","ERROR_RESPONSE","v1","RECEIVE_MESSAGE","UP","DOWN","NONE","ERROR","758","RequestTimeoutError","HandshakeTimeoutError","name","Error","607","__createBinding","enumerable","get","__exportStar","ParentClient","473","log","console","error","166","__awaiter","Promise","u","next","throw","done","then","apply","__generator","label","sent","trys","ops","return","Symbol","iterator","pop","length","push","c","l","p","requestChannel","contentWindow","handleRequstChannel","src","requestChannelWithPopup","opener","url","URL","MessageChannel","port1","onmessage","origin","port2","getMessageProfile","request","profileMessages","819","getProfiler","type","message","date","Date","416","handshakeTimeout","requestTimeout","f","channel","defer","eventSubscriptions","responseSubscriptions","requestSubscriptions","logger","promise","catch","send","handshake","on","randomInsecureId","omit","id","setTimeout","timeout","getContext","messageListener","isValidMessage","deserialize","data","handleEvent","handleRequest","handleResponse","key","values","forEach","requestId","port","serialize","apiVersion","reject","isInitMessage","resolveChannel","resolve","699","593","__assign","assign","arguments","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","map","Math","random","toString","join","concat","filter","direction","postTime","receiveTime","duration","getTime","sort","stack","serialization","client","resource","method","params","contentType","framePostClient","RequestType","API_REQUEST","options","post","put","patch","delete","clearCredentials","CLEAR_OAUTH_CREDENTIALS","DDAPIClient","defaultAuthState","isAuthenticated","args","authState","CHECK_AUTH_STATE","checkAuthState","authStateCallback","rawState","getAuthState","GET_AUTH_STATE","forceUpdate","updateAuthState","DDAuthClient","resolveAuthFlow","state","DEFAULT_OPTIONS","host","Host","STAGE","authStateOptions","authProvider","FramePostClientSettings","DEBUG","HANDSHAKE_TIMEOUT_DEV_MODE","HANDSHAKE_TIMEOUT","REQUEST_TIMEOUT","sdkVersion","resolution","Logger","api","auth","events","DDEventsClient","dashboard","DDDashboardClient","location","DDLocationClient","modal","DDModalClient","sidePanel","DDSidePanelClient","secrets","DDSecretsClient","widgetContextMenu","DDWidgetContextMenuClient","EventType","CONTEXT_CHANGE","newContext","syncDebugMode","registerEventListeners","handler","resize","dimensions","style","getComputedStyle","document","documentElement","parsedHeight","parseFloat","getPropertyValue","parsedWidth","height","Number","isNaN","scrollHeight","width","scrollWidth","computedDimensions","RESIZE_IFRAME","app","DDClient","ColorTheme","WidgetOptionItemType","AuthStateStatus","MenuItemType","ModalActionLevel","ModalSize","FeatureType","freeze","enabledEvents","Set","CUSTOM_EVENT","AUTH_STATE_CHANGE","API_ACCESS_CHANGE","emptyConfig","items","DASHBOARD_COG_MENU","requestHandler","GET_DASHBOARD_COG_MENU_ITEMS","validateFeatureIsEnabled","item","validateKey","DDFeatureClient","DDDashboardCogMenuClient","DASHBOARD_CUSTOM_WIDGET","updateOptions","newOptions","widget","definition","DASHBOARD_CUSTOM_WIDGET_OPTIONS_UPDATE","customWidgetKey","custom_widget_key","customWidgetID","DDDashboardCustomWidgetClient","cogMenu","customWidget","setCursor","timestamp","SET_DASHBOARD_CURSOR","setTimeframe","timeframe","SET_DASHBOARD_TIMEFRAME","eventType","unsubscribe","isEventEnabled","features","onCustom","payload","broadcast","EVENT_BROADCAST","dashboardCogMenu","DASHBOARD_COG_MENU_CLICK","dashboardCustomWidget","DASHBOARD_CUSTOM_WIDGET_OPTIONS_CHANGE","DASHBOARD_TEMPLATE_VAR_CHANGE","DASHBOARD_TIMEFRAME_CHANGE","DASHBOARD_CURSOR_CHANGE","WIDGET_SETTINGS_MENU_CLICK","modals","sidePanels","MODALS","MODAL_CLOSE","MODAL_CANCEL","MODAL_ACTION","SIDE_PANELS","SIDE_PANEL_CLOSE","WIDGET_CONTEXT_MENU","WIDGET_CONTEXT_MENU_CLICK","init","callback","goTo","NAVIGATE_TOP","open","OPEN_MODAL","CLOSE_MODAL","getLocalStorageKeys","localStorage","_","registerRequestHandlers","STORE_SECRET","handleStoreSecretRequest","LOAD_SECRET","handleLoadSecretRequest","LOAD_ALL_SECRETS","handleLoadAllSecretsRequest","REMOVE_ALL_SECRETS","handleRemoveAllSecretsRequest","REMOVE_SECRET","handleRemoveSecretRequest","secret","setItem","getItem","prefix","startsWith","reduce","agg","removeItem","GET_SECRET","set","SET_SECRET","remove","REMOVE_SECRET_PUBLIC","featureType","isEnabled","isFeatureEnabled","OPEN_SIDE_PANEL","CLOSE_SIDE_PANEL","getPrefix","href","getter","executed","feature","enabledFeatures","includes","getFeatureTypesByEvent","featureTypesByEvent","Map","has","add","event","enablingFeatures","some","isDefinitionWithKey","defenition","GET_WIDGET_CONTEXT_MENU_ITEMS","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__"],"mappings":"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","file":"ui-extensions-sdk.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DD_SDK\"] = factory();\n\telse\n\t\troot[\"DD_SDK\"] = factory();\n})(self, function() {\nreturn ","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.framepost=t():e.framepost=t()}(self,(function(){return function(){\"use strict\";var e={573:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChildClient=void 0;var o=n(601),s=n(473),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.context=t.context||null,n.initListener=n.initListener.bind(n),window.addEventListener(\"message\",n.initListener),n.profile&&n.onRequest(o.REQUEST_KEY_GET_PROFILE,(function(){return n.profiler.getEvents()})),n.setInitTimer(),n}return i(t,e),t.prototype.getLogger=function(){return s.getLogger(\"child-client\",this.debug)},t.prototype.onChannelInit=function(e){window.removeEventListener(\"message\",this.initListener),this.messagePort=e.ports[0];var t=this.getInitMessage(this.context);this.messagePort.postMessage(t),this.profiler.logEvent(o.ProfileEventType.POST_MESSAGE,t)},t.prototype.destroy=function(){this.messagePort&&this.messagePort.close(),this.initTimer&&clearTimeout(this.initTimer),window.removeEventListener(\"message\",this.initListener)},t}(n(416).SharedClient);t.ChildClient=a},601:function(e,t){var n,r,i,o;Object.defineProperty(t,\"__esModule\",{value:!0}),t.REQUEST_KEY_GET_PROFILE=t.DEFAULT_REQUEST_TIMEOUT=t.SerializationType=t.TransactionDirection=t.ProfileEventType=t.MessageAPIVersion=t.MessageType=void 0,(o=t.MessageType||(t.MessageType={})).CHANNEL_INIT=\"channel_init\",o.EVENT=\"event\",o.REQUEST=\"request\",o.RESPONSE=\"response\",o.ERROR_RESPONSE=\"error_response\",(t.MessageAPIVersion||(t.MessageAPIVersion={})).v1=\"framepost/v1\",(i=t.ProfileEventType||(t.ProfileEventType={})).POST_MESSAGE=\"post_message\",i.RECEIVE_MESSAGE=\"receive_message\",(r=t.TransactionDirection||(t.TransactionDirection={})).UP=\"up\",r.DOWN=\"down\",(n=t.SerializationType||(t.SerializationType={})).NONE=\"none\",n.ERROR=\"error\",t.DEFAULT_REQUEST_TIMEOUT=2e4,t.REQUEST_KEY_GET_PROFILE=\"framepost_get_profile\"},758:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0}),t.RequestTimeoutError=t.HandshakeTimeoutError=void 0;var i=function(e){function t(){var t=e.call(this,\"Handshake timed out\")||this;return t.name=\"HandshakeTimeoutError\",t}return r(t,e),t}(Error);t.HandshakeTimeoutError=i;var o=function(e){function t(){var t=e.call(this,\"Request timed out\")||this;return t.name=\"RequestTimeoutError\",t}return r(t,e),t}(Error);t.RequestTimeoutError=o},607:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)\"default\"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ParentClient=t.ChildClient=void 0;var o=n(573);Object.defineProperty(t,\"ChildClient\",{enumerable:!0,get:function(){return o.ChildClient}});var s=n(166);Object.defineProperty(t,\"ParentClient\",{enumerable:!0,get:function(){return s.ParentClient}}),i(n(699),t),i(n(758),t)},473:function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.getLogger=void 0,t.getLogger=function(e,t){return t?{log:function(t){return console.log(e+\": \"+t)},error:function(t){return console.error(e+\": \"+t)}}:{log:function(){},error:function(){}}}},166:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ParentClient=void 0;var a=n(601),u=n(473),c=n(416),l=n(593),p=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return i(t,e),t.prototype.requestChannel=function(e,t){e.contentWindow&&this.handleRequstChannel(e.contentWindow,e.src,t)},t.prototype.requestChannelWithPopup=function(e,t,n){e.opener&&this.handleRequstChannel(e,t,n)},t.prototype.handleRequstChannel=function(e,t,n){this.url=new URL(t);var r=new MessageChannel;this.messagePort=r.port1;var i=this.getInitMessage(n);this.messagePort.onmessage=this.initListener.bind(this),this.setInitTimer(),e.postMessage(i,this.url.origin,[r.port2]),this.profiler.logEvent(a.ProfileEventType.POST_MESSAGE,i)},t.prototype.getMessageProfile=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return[4,this.request(a.REQUEST_KEY_GET_PROFILE)];case 1:return e=n.sent(),t=this.profiler.getEvents(),[2,l.profileMessages(t,e)]}}))}))},t.prototype.onChannelInit=function(){},t.prototype.getLogger=function(){return u.getLogger(\"parent-client\",this.debug)},t.prototype.destroy=function(){this.messagePort&&this.messagePort.close(),this.initTimer&&clearTimeout(this.initTimer)},t}(c.SharedClient);t.ParentClient=p},819:function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.getProfiler=void 0,t.getProfiler=function(e){var t=[];return{logEvent:function(n,r){e&&t.push({type:n,message:r,date:new Date})},getEvents:function(){return t}}}},416:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.SharedClient=void 0;var o=n(601),s=n(758),a=n(819),u=n(593),c=function(){function e(e){var t=this,n=void 0===e?{}:e,r=n.debug,i=void 0!==r&&r,s=n.profile,c=void 0!==s&&s,l=n.handshakeTimeout,p=n.requestTimeout,f=void 0===p?o.DEFAULT_REQUEST_TIMEOUT:p;this.debug=i,this.profile=c,this.handshakeTimeout=void 0!==l?l:f,this.requestTimeout=f,this.channel=u.defer(),this.eventSubscriptions={},this.responseSubscriptions={},this.requestSubscriptions={},this.logger=this.getLogger(),this.profiler=a.getProfiler(c),this.channel.promise.then((function(){t.logger.log(\"Secure parent <-> child channel established\")})).catch((function(e){t.logger.log(e)}))}return e.prototype.send=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.handshake()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[2,null];case 3:return[2,this.postMessage(o.MessageType.EVENT,e,t)]}}))}))},e.prototype.on=function(e,t){var n=this;this.eventSubscriptions[e]||(this.eventSubscriptions[e]={});var r=u.randomInsecureId(8);return this.eventSubscriptions[e][r]=t,this.logger.log('Registered handler for event \"'+e+'\"'),function(){n.eventSubscriptions[e]=u.omit(n.eventSubscriptions[e],r),n.logger.log(\"Unsubscribed handler for event \"+e)}},e.prototype.request=function(e,t,n){return void 0===n&&(n={}),r(this,void 0,void 0,(function(){var r,a,c=this;return i(this,(function(i){switch(i.label){case 0:return[4,this.postMessage(o.MessageType.REQUEST,e,t)];case 1:return r=i.sent(),a=function(){c.responseSubscriptions=u.omit(c.responseSubscriptions,r.id)},[2,new Promise((function(e,t){var i;c.responseSubscriptions[r.id]=function(n,r){clearTimeout(i),a(),r.type===o.MessageType.ERROR_RESPONSE?t(n):e(n)},i=setTimeout((function(){a(),t(new s.RequestTimeoutError)}),n.timeout||c.requestTimeout)}))]}}))}))},e.prototype.onRequest=function(e,t){var n=this;return this.requestSubscriptions[e]=function(s,a){return r(n,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.handshake()];case 1:return i.sent(),[4,t(s,a)];case 2:return n=i.sent(),this.postMessage(o.MessageType.RESPONSE,e,n,a.id),[3,4];case 3:return r=i.sent(),this.postMessage(o.MessageType.ERROR_RESPONSE,e,r,a.id),[3,4];case 4:return[2]}}))}))},function(){n.requestSubscriptions=u.omit(n.requestSubscriptions,e)}},e.prototype.getContext=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.channel.promise];case 1:return[2,e.sent().context];case 2:return e.sent(),[2,null];case 3:return[2]}}))}))},e.prototype.handshake=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.channel.promise];case 1:return[2,e.sent().context]}}))}))},e.prototype.messageListener=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.channel.promise];case 1:case 2:return r.sent(),[3,3];case 3:if(t=this.isValidMessage(e),n=u.deserialize(e.data),t){switch(n.type){case o.MessageType.EVENT:this.handleEvent(n);break;case o.MessageType.REQUEST:this.handleRequest(n);break;case o.MessageType.ERROR_RESPONSE:case o.MessageType.RESPONSE:this.handleResponse(n)}this.profiler.logEvent(o.ProfileEventType.RECEIVE_MESSAGE,n)}else this.logger.error(\"Invalid message format. Skipping.\");return[2]}}))}))},e.prototype.handleEvent=function(e){var t=this.eventSubscriptions[e.key];t&&Object.values(t).forEach((function(t){return t(e.data,e)}))},e.prototype.handleRequest=function(e){var t=this.requestSubscriptions[e.key];t&&(t(e.data,e),this.logger.log(\"Handled request type \"+e.key))},e.prototype.handleResponse=function(e){var t=e.requestId,n=t&&this.responseSubscriptions[t];n&&n(e.data,e)},e.prototype.postMessage=function(e,t,n,s){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:return[4,this.channel.promise];case 1:return r=i.sent().port,a=u.serialize({type:e,apiVersion:o.MessageAPIVersion.v1,key:t,data:n,id:u.randomInsecureId(),requestId:s}),r.postMessage(a),this.profiler.logEvent(o.ProfileEventType.POST_MESSAGE,a),[2,a]}}))}))},e.prototype.setInitTimer=function(){var e=this;this.initTimer=setTimeout((function(){e.channel.reject(new s.HandshakeTimeoutError),e.destroy()}),this.handshakeTimeout)},e.prototype.initListener=function(e){this.isInitMessage(e)?(this.profiler.logEvent(o.ProfileEventType.RECEIVE_MESSAGE,e.data),this.initTimer&&clearTimeout(this.initTimer),this.onChannelInit(e),this.messagePort&&(this.messagePort.onmessage=this.messageListener.bind(this)),this.resolveChannel(e)):this.logger.error(\"Invalid message format. Skipping.\")},e.prototype.isValidMessage=function(e){var t=e.data;return t.type&&t.id&&t.apiVersion===o.MessageAPIVersion.v1},e.prototype.isInitMessage=function(e){return this.isValidMessage(e)&&e.data.type===o.MessageType.CHANNEL_INIT},e.prototype.resolveChannel=function(e){if(this.messagePort){var t={port:this.messagePort,origin:e.origin,context:e.data.data};this.channel.resolve(t)}},e.prototype.getInitMessage=function(e){return u.serialize({type:o.MessageType.CHANNEL_INIT,apiVersion:o.MessageAPIVersion.v1,key:\"\",data:e,id:u.randomInsecureId()})},e}();t.SharedClient=c},699:function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0})},593:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,\"__esModule\",{value:!0}),t.deserialize=t.serialize=t.profileMessages=t.omit=t.randomInsecureId=t.defer=void 0;var s=n(601),a=n(758);t.defer=function(){var e=function(){},t=function(){},n=new Promise((function(n,r){e=n,t=r}));return{resolve:e,reject:t,promise:n}},t.randomInsecureId=function(e){return void 0===e&&(e=16),o([],Array(e)).map((function(){return(~~(36*Math.random())).toString(36)})).join(\"\")},t.omit=function(e,t){var n=e,r=t;return n[r],i(n,[\"symbol\"==typeof r?r:r+\"\"])},t.profileMessages=function(e,t){var n,r,i=e.concat(t).filter((function(e){return e.type===s.ProfileEventType.RECEIVE_MESSAGE})),o=(n=function(e){return e.message.id},r={},i.forEach((function(e){r[n(e)]=e})),r),a=[],u=function(e){var t=e.date,n=e.message,r={id:n.id,direction:s.TransactionDirection.DOWN,postTime:t,message:n},i=o[n.id];return i&&(r.receiveTime=i.date,r.duration=(i.date.getTime()-t.getTime())/1e3),r};return e.filter((function(e){return e.type===s.ProfileEventType.POST_MESSAGE})).forEach((function(e){var t=u(e);a.push(t)})),t.filter((function(e){return e.type===s.ProfileEventType.POST_MESSAGE})).forEach((function(e){var t=u(e);t.direction=s.TransactionDirection.UP,a.push(t)})),a.filter((function(e){return e.message.key!==s.REQUEST_KEY_GET_PROFILE})).sort((function(e,t){return e.postTime.getTime()-t.postTime.getTime()}))};var u=function(e){var t=e.name,n=e.message,r=e.stack;switch(t){case a.HandshakeTimeoutError.name:return new a.HandshakeTimeoutError;case a.RequestTimeoutError.name:return new a.RequestTimeoutError;default:var i=new Error(n);return i.name=t,i.stack=r,i}};t.serialize=function(e){var t,n=e.data,i=s.SerializationType.NONE;return n instanceof Error&&(i=s.SerializationType.ERROR,n={message:(t=n).message,name:t.name,stack:t.stack}),r(r({},e),{serialization:i,data:n})},t.deserialize=function(e){return e.serialization===s.SerializationType.ERROR?r(r({},e),{data:u(e.data)}):e}}},t={};return function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(607)}()}));\n//# sourceMappingURL=framepost.min.js.map","import type { DDClient } from '../client/client';\nimport { RequestType } from '../constants';\nimport type { ApiRequest, ApiRequestOptions } from '../types';\n\nexport class DDAPIClient {\n    private readonly client: DDClient;\n\n    constructor(client: DDClient) {\n        this.client = client;\n    }\n\n    async request<Q = any, R = any>(\n        resource: string,\n        {\n            method = 'GET',\n            params = {},\n            data,\n            contentType = 'json'\n        }: ApiRequestOptions<Q>\n    ): Promise<R> {\n        return this.client.framePostClient.request<ApiRequest<Q>, R>(\n            RequestType.API_REQUEST,\n            {\n                resource,\n                method,\n                params,\n                data,\n                contentType\n            }\n        );\n    }\n\n    async get<R = any>(\n        resource: string,\n        options: Omit<\n            ApiRequestOptions<undefined>,\n            'method' | 'data' | 'contentType'\n        > = {}\n    ): Promise<R> {\n        return this.request<undefined, R>(resource, {\n            method: 'GET',\n            ...options\n        });\n    }\n\n    async post<Q = any, R = any>(\n        resource: string,\n        data: Q,\n        options: Omit<ApiRequestOptions<Q>, 'method' | 'data'> = {}\n    ): Promise<R> {\n        return this.request<Q, R>(resource, {\n            method: 'POST',\n            data,\n            ...options\n        });\n    }\n\n    async put<Q = any, R = any>(\n        resource: string,\n        data: Q,\n        options: Omit<ApiRequestOptions<Q>, 'method' | 'data'> = {}\n    ): Promise<R> {\n        return this.request<Q, R>(resource, {\n            method: 'PUT',\n            data,\n            ...options\n        });\n    }\n\n    async patch<Q = any, R = any>(\n        resource: string,\n        data: Q,\n        options: Omit<ApiRequestOptions<Q>, 'method' | 'data'> = {}\n    ): Promise<R> {\n        return this.request<Q, R>(resource, {\n            method: 'PATCH',\n            data,\n            ...options\n        });\n    }\n\n    async delete<R = any>(\n        resource: string,\n        options: Omit<\n            ApiRequestOptions<undefined>,\n            'method' | 'data' | 'contentType'\n        > = {}\n    ): Promise<R> {\n        return this.request<undefined, R>(resource, {\n            method: 'DELETE',\n            ...options\n        });\n    }\n\n    async clearCredentials() {\n        return this.client.framePostClient.request(\n            RequestType.CLEAR_OAUTH_CREDENTIALS\n        );\n    }\n}\n","import type { DDClient } from '../client/client';\nimport { RequestType } from '../constants';\nimport { AuthState, AuthStateOptions } from '../types';\n\nconst defaultAuthState: Required<AuthState<unknown>> = {\n    isAuthenticated: false,\n    args: {}\n};\nexport class DDAuthClient<AuthStateArgs = unknown> {\n    private readonly client: DDClient;\n    private authState: AuthState<AuthStateArgs>;\n    readonly options?: AuthStateOptions<AuthStateArgs>;\n\n    constructor(\n        client: DDClient<AuthStateArgs>,\n        options?: AuthStateOptions<AuthStateArgs>\n    ) {\n        this.client = client;\n        this.authState = defaultAuthState as AuthState<AuthStateArgs>;\n        if (options) {\n            this.options = options;\n        }\n\n        this.client.framePostClient.onRequest(\n            RequestType.CHECK_AUTH_STATE,\n            this.checkAuthState.bind(this)\n        );\n    }\n\n    private async checkAuthState(): Promise<AuthState<AuthStateArgs> | null> {\n        if (!this.options) {\n            this.client.logger.error('Auth Provider is not set');\n            return null;\n        }\n        const rawState = await this.options.authStateCallback();\n        if (typeof rawState === 'boolean') {\n            return { isAuthenticated: rawState };\n        }\n        return rawState;\n    }\n\n    async getAuthState(): Promise<AuthState<AuthStateArgs>> {\n        await this.client.getContext();\n        return this.client.framePostClient.request(RequestType.GET_AUTH_STATE, {\n            forceUpdate: false\n        });\n    }\n\n    async updateAuthState() {\n        await this.client.getContext();\n        return this.client.framePostClient.request(RequestType.GET_AUTH_STATE, {\n            forceUpdate: true\n        });\n    }\n}\n\nexport const resolveAuthFlow = <AuthStateArgs>(\n    state: AuthState<AuthStateArgs>\n) => {\n    if (window.opener) {\n        window.opener.postMessage(state, '*');\n    }\n};\n","import { ChildClient } from '@datadog/framepost';\n\nimport { DDAPIClient } from '../api/api';\nimport { DDAuthClient } from '../auth/auth';\nimport { FramePostClientSettings, EventType, Host } from '../constants';\nimport { DDDashboardClient } from '../dashboard/dashboard';\nimport { DDEventsClient } from '../events/events';\nimport { DDLocationClient } from '../location/location';\nimport { DDModalClient } from '../modal/modal';\nimport { DDSecretsClient } from '../secrets/secrets';\nimport { DDSidePanelClient } from '../side-panel/side-panel';\nimport type {\n    Context,\n    ClientContext,\n    ClientOptions,\n    IFrameDimensions,\n    ParentAuthStateOptions\n} from '../types';\nimport { Logger } from '../utils/logger';\nimport { DDWidgetContextMenuClient } from '../widget-context-menu/widget-context-menu';\n\ndeclare const SDK_VERSION: string;\n\nconst DEFAULT_OPTIONS = {\n    host: Host.STAGE,\n    debug: false\n};\n\nexport class DDClient<AuthStateArgs = unknown> {\n    private readonly host: string;\n    private context?: Context | null;\n    readonly framePostClient: ChildClient<Context>;\n    readonly logger: Logger;\n    api: DDAPIClient;\n    dashboard: DDDashboardClient;\n    debug: boolean;\n    events: DDEventsClient<AuthStateArgs>;\n    location: DDLocationClient;\n    modal: DDModalClient;\n    sidePanel: DDSidePanelClient;\n    secrets: DDSecretsClient;\n    widgetContextMenu: DDWidgetContextMenuClient;\n    auth: DDAuthClient<AuthStateArgs>;\n\n    constructor(options: ClientOptions<AuthStateArgs> = {}) {\n        this.host = options.host || DEFAULT_OPTIONS.host;\n        this.debug = options.debug || DEFAULT_OPTIONS.debug;\n\n        let authStateOptions: ParentAuthStateOptions | undefined;\n        if (options.authProvider) {\n            // pluck authStateCallback since it's not serializable and not needed in the client\n            const { authStateCallback, ...rest } = options.authProvider;\n            authStateOptions = rest;\n        }\n\n        this.framePostClient = new ChildClient<Context>({\n            debug: FramePostClientSettings.DEBUG,\n            handshakeTimeout: FramePostClientSettings.DEBUG\n                ? FramePostClientSettings.HANDSHAKE_TIMEOUT_DEV_MODE\n                : FramePostClientSettings.HANDSHAKE_TIMEOUT,\n            requestTimeout: FramePostClientSettings.REQUEST_TIMEOUT,\n            profile: this.debug,\n            context: {\n                sdkVersion: SDK_VERSION,\n                authStateOptions: {\n                    resolution: 'poll',\n                    ...authStateOptions\n                }\n            } as ClientContext\n        });\n\n        this.logger = new Logger(this);\n\n        this.api = new DDAPIClient(this);\n        this.auth = new DDAuthClient(this, options.authProvider);\n        this.events = new DDEventsClient(this);\n        this.dashboard = new DDDashboardClient(this);\n        this.location = new DDLocationClient(this);\n        this.modal = new DDModalClient(this);\n        this.sidePanel = new DDSidePanelClient(this);\n        this.secrets = new DDSecretsClient(this);\n        this.widgetContextMenu = new DDWidgetContextMenuClient(this);\n\n        this.events.on(EventType.CONTEXT_CHANGE, newContext => {\n            this.context = newContext;\n\n            this.syncDebugMode(this.context);\n        });\n\n        this.getContext().then(context => {\n            this.syncDebugMode(context);\n        });\n\n        this.registerEventListeners();\n    }\n\n    private registerEventListeners() {\n        const handler = () => {\n            this.resize();\n\n            // We only want to handle resizing once.\n            // If we keep this `'resize'` handler,\n            // we can get into a loop of infinitely resizing the iframe.\n            window.removeEventListener('resize', handler);\n        };\n\n        // Since computing the size of an iframe is hard to do correctly,\n        // we listen to `'resize'` events so we can send the actual values over.\n        window.addEventListener('resize', handler);\n    }\n\n    /**\n     * Notify the parent that the iframe should be resized.\n     *\n     * Will default any dimensions not given to the iframe's actual dimensions.\n     *\n     * There's no guarantee that the parent will adjust the iframe's dimensions.\n     * The parent will also sanitize the dimensions attempting to keep the iframe within the viewport.\n     */\n    resize(dimensions?: Partial<IFrameDimensions>) {\n        const style = window.getComputedStyle(document.documentElement);\n        const parsedHeight = parseFloat(style.getPropertyValue('height'));\n        const parsedWidth = parseFloat(style.getPropertyValue('width'));\n        const height = Number.isNaN(parsedHeight)\n            ? document.documentElement.scrollHeight\n            : parsedHeight;\n        const width = Number.isNaN(parsedWidth)\n            ? document.documentElement.scrollWidth\n            : parsedWidth;\n        const computedDimensions: IFrameDimensions = {\n            height: dimensions?.height ?? height,\n            width: dimensions?.width ?? width\n        };\n\n        this.framePostClient.send(EventType.RESIZE_IFRAME, computedDimensions);\n    }\n\n    /**\n     * Returns app context data, after it is sent from the parent\n     */\n    async getContext(): Promise<Context> {\n        if (!this.context) {\n            this.context = await this.framePostClient.handshake();\n        }\n\n        return this.context;\n    }\n\n    // Turn on debugger if dev mode is on in parent\n    private syncDebugMode(context: Context | null) {\n        this.debug = context?.app?.debug || this.debug;\n    }\n}\n","export enum Host {\n    PROD = 'https://app.datadoghq.com/',\n    STAGE = 'https://dd.datad0g.com/'\n}\n\nexport enum FeatureType {\n    DASHBOARD_COG_MENU = 'dashboard_cog_menu',\n    DASHBOARD_CUSTOM_WIDGET = 'dashboard_custom_widget',\n    MODALS = 'modals',\n    SIDE_PANELS = 'side_panels',\n    WIDGET_CONTEXT_MENU = 'widget_context_menu'\n}\n\nexport enum EventType {\n    // General\n    CUSTOM_EVENT = 'custom_event',\n    CONTEXT_CHANGE = 'context_change',\n    RESIZE_IFRAME = 'resize_iframe',\n\n    // Dashboards\n    DASHBOARD_COG_MENU_CLICK = 'dashboard_cog_menu_click',\n    DASHBOARD_TIMEFRAME_CHANGE = 'dashboard_timeframe_change',\n    DASHBOARD_CURSOR_CHANGE = 'dashboard_cursor_change',\n    DASHBOARD_TEMPLATE_VAR_CHANGE = 'dashboard_template_var_change',\n    DASHBOARD_CUSTOM_WIDGET_OPTIONS_CHANGE = 'dashboard_custom_widget_options_change',\n    DASHBOARD_CUSTOM_WIDGET_OPTIONS_UPDATE = 'dashboard_custom_widget_options_update',\n\n    // Modals\n    MODAL_CLOSE = 'modal_close',\n    MODAL_ACTION = 'modal_action',\n    MODAL_CANCEL = 'modal_cancel',\n\n    // Side panels\n    SIDE_PANEL_CLOSE = 'side_panel_close',\n\n    // Widgets\n    WIDGET_CONTEXT_MENU_CLICK = 'widget_context_menu_click',\n    WIDGET_SETTINGS_MENU_CLICK = 'widget_settings_menu_click',\n\n    // Auth\n    AUTH_STATE_CHANGE = 'auth_state_change',\n    API_ACCESS_CHANGE = 'api_access_change'\n}\n\nexport const FramePostClientSettings = Object.freeze({\n    // 3p devs most likely dont need to see framepost debug messages\n    DEBUG: false,\n    HANDSHAKE_TIMEOUT: 10000,\n    HANDSHAKE_TIMEOUT_DEV_MODE: 2000,\n    REQUEST_TIMEOUT: 20000\n});\n\n// \"Requests\" are distinct from events in that the sdk client expects a response\n// from the frameManager, or vice-versa. This is useful when the child frames\n// ask the parent frames to perform an operation.\nexport enum RequestType {\n    // API\n    API_REQUEST = 'api_request',\n\n    // Events\n    EVENT_BROADCAST = 'event_broadcast',\n\n    // Location\n    NAVIGATE_TOP = 'navigate_top',\n\n    // Modals\n    OPEN_MODAL = 'open_modal',\n    CLOSE_MODAL = 'close_modal',\n\n    // Side panels\n    OPEN_SIDE_PANEL = 'open_side_panel',\n    CLOSE_SIDE_PANEL = 'close_side_panel',\n\n    // Secrets\n    STORE_SECRET = 'store_secret',\n    REMOVE_SECRET = 'remove_secret',\n    LOAD_ALL_SECRETS = 'load_all_secrets',\n    REMOVE_ALL_SECRETS = 'remove_all_secrets',\n    LOAD_SECRET = 'load_secret',\n    GET_SECRET = 'get_secret',\n    SET_SECRET = 'set_secret',\n    REMOVE_SECRET_PUBLIC = 'remove_secret_public',\n\n    // Context Menu\n    GET_WIDGET_CONTEXT_MENU_ITEMS = 'get_widget_context_menu_items',\n\n    // Dashboard Cog Menu\n    GET_DASHBOARD_COG_MENU_ITEMS = 'get_dashboard_cog_menu_items',\n\n    // Auth\n    CHECK_AUTH_STATE = 'check_auth_state',\n    GET_AUTH_STATE = 'get_auth_state',\n    CLEAR_OAUTH_CREDENTIALS = 'clear_oauth_credentials',\n\n    // Notify parent\n    SET_DASHBOARD_TIMEFRAME = 'set_dashboard_timeframe',\n    SET_DASHBOARD_CURSOR = 'set_dashboard_cursor'\n}\n\n// These event types are always allowed, regardless of what features have been enabled\nexport const enabledEvents = new Set<EventType>([\n    EventType.CUSTOM_EVENT,\n    EventType.CONTEXT_CHANGE,\n    EventType.AUTH_STATE_CHANGE,\n    EventType.API_ACCESS_CHANGE\n]);\n\nexport enum ModalSize {\n    SMALL = 'sm',\n    MEDIUM = 'md',\n    LARGE = 'lg'\n    // TODO: implement auto-sized modals\n}\n\nexport enum ModalActionLevel {\n    PRIMARY = 'primary',\n    SUCCESS = 'success',\n    WARNING = 'warning',\n    DANGER = 'danger'\n}\n\nexport enum MenuItemType {\n    LINK = 'link',\n    EVENT = 'event'\n}\n\nexport enum AuthStateStatus {\n    NONE = 'none',\n    SET = 'set',\n    INITIATED = 'initiated',\n    SUCCESS = 'success',\n    FAILED = 'failed'\n}\n\nexport enum WidgetOptionItemType {\n    BOOLEAN = 'boolean',\n    STRING = 'string'\n}\n\nexport enum ColorTheme {\n    dark = 'dark',\n    light = 'light'\n}\n","import type { DDClient } from '../../client/client';\nimport { FeatureType, RequestType } from '../../constants';\nimport { DDFeatureClient } from '../../shared/feature-client';\nimport type {\n    GetDashboardCogMenuItemsRequest,\n    GetDashboardCogMenuItemsResponse\n} from '../../types';\nimport { validateKey } from '../../utils/utils';\n\nconst emptyConfig: GetDashboardCogMenuItemsResponse = { items: [] };\n\nexport class DDDashboardCogMenuClient extends DDFeatureClient {\n    constructor(client: DDClient) {\n        super(client, FeatureType.DASHBOARD_COG_MENU);\n\n        // initialize with an empty reponse handler\n        this.onRequest(() => emptyConfig);\n    }\n\n    /**\n     * Registers a request handler for providing cog menu items dynamically\n     */\n    onRequest(\n        requestHandler: (\n            context: GetDashboardCogMenuItemsRequest\n        ) =>\n            | GetDashboardCogMenuItemsResponse\n            | Promise<GetDashboardCogMenuItemsResponse>\n    ) {\n        const wrappedHandler = async (\n            context: GetDashboardCogMenuItemsRequest\n        ): Promise<GetDashboardCogMenuItemsResponse> => {\n            await this.validateFeatureIsEnabled();\n\n            const { items } = await requestHandler(context);\n\n            return {\n                items: items.filter(item => {\n                    try {\n                        validateKey(item);\n                    } catch (e) {\n                        this.client.logger.error(e.message);\n\n                        return false;\n                    }\n\n                    return true;\n                })\n            };\n        };\n\n        this.client.framePostClient.onRequest(\n            RequestType.GET_DASHBOARD_COG_MENU_ITEMS,\n            wrappedHandler\n        );\n\n        // return an unsubscribe hook\n        return () => {\n            this.onRequest(() => emptyConfig);\n        };\n    }\n}\n","import type { DDClient } from '../../client/client';\nimport { EventType, FeatureType } from '../../constants';\nimport { DDFeatureClient } from '../../shared/feature-client';\nimport type { WidgetOptionItem } from '../../types';\n\nexport class DDDashboardCustomWidgetClient extends DDFeatureClient {\n    constructor(client: DDClient) {\n        super(client, FeatureType.DASHBOARD_CUSTOM_WIDGET);\n    }\n\n    async updateOptions(newOptions: WidgetOptionItem[]) {\n        const { widget } = await this.client.getContext();\n        if (widget?.definition && widget?.id) {\n            return this.client.framePostClient.request(\n                EventType.DASHBOARD_CUSTOM_WIDGET_OPTIONS_UPDATE,\n                {\n                    customWidgetKey: widget.definition.custom_widget_key,\n                    customWidgetID: widget.id,\n                    newOptions\n                }\n            );\n        }\n    }\n}\n","// Actions are UiAppRequestType requests that are sent from Datadog to the parent dashboard\nimport type { DDClient } from '../client/client';\nimport { RequestType } from '../constants';\nimport type { Timeframe } from '../types';\n\nimport { DDDashboardCogMenuClient } from './dashboard-cog-menu/dashboard-cog-menu';\nimport { DDDashboardCustomWidgetClient } from './dashboard-custom-widget/dashboard-custom-widget';\n\nexport class DDDashboardClient {\n    private readonly client: DDClient;\n    cogMenu: DDDashboardCogMenuClient;\n    customWidget: DDDashboardCustomWidgetClient;\n\n    constructor(client: DDClient) {\n        this.client = client;\n        this.cogMenu = new DDDashboardCogMenuClient(this.client);\n        this.customWidget = new DDDashboardCustomWidgetClient(this.client);\n    }\n\n    async setCursor({ timestamp }: SetDashboardCursorRequest) {\n        return this.client.framePostClient.request<SetDashboardCursorRequest>(\n            RequestType.SET_DASHBOARD_CURSOR,\n            {\n                timestamp\n            }\n        );\n    }\n\n    async setTimeframe({ timeframe }: SetDashboardTimeframeRequest) {\n        return this.client.framePostClient.request<\n            SetDashboardTimeframeRequest\n        >(RequestType.SET_DASHBOARD_TIMEFRAME, {\n            timeframe\n        });\n    }\n}\n\ninterface SetDashboardTimeframeRequest {\n    timeframe: Timeframe;\n}\n\ninterface SetDashboardCursorRequest {\n    timestamp: number | null;\n}\n","import type { DDClient } from '../client/client';\nimport { EventType, RequestType } from '../constants';\nimport type {\n    Context,\n    EventHandler,\n    IFrameDimensions,\n    Timeframe,\n    TemplateVariableValue,\n    ModalDefinition,\n    WidgetContextMenuClickData,\n    WidgetSettingsMenuClickData,\n    DashboardCogMenuClickData,\n    SidePanelDefinition,\n    AuthState,\n    APIAccessChangeEvent\n} from '../types';\nimport { isEventEnabled } from '../utils/utils';\n\n// This interface mapping provides types for event handlers subscribed to with `client.events.on`\ninterface DDEventDataTypes<AuthStateArgs> {\n    // General\n    [EventType.CUSTOM_EVENT]: CustomEventPayload<any>;\n    [EventType.CONTEXT_CHANGE]: Context;\n    [EventType.RESIZE_IFRAME]: IFrameDimensions;\n    [EventType.DASHBOARD_COG_MENU_CLICK]: DashboardCogMenuClickData;\n    [EventType.WIDGET_CONTEXT_MENU_CLICK]: WidgetContextMenuClickData;\n    [EventType.WIDGET_SETTINGS_MENU_CLICK]: WidgetSettingsMenuClickData;\n    [EventType.MODAL_CLOSE]: ModalDefinition;\n    [EventType.MODAL_CANCEL]: ModalDefinition;\n    [EventType.MODAL_ACTION]: ModalDefinition;\n    [EventType.SIDE_PANEL_CLOSE]: SidePanelDefinition;\n    [EventType.DASHBOARD_TIMEFRAME_CHANGE]: Timeframe;\n    [EventType.DASHBOARD_CURSOR_CHANGE]: number | null;\n    [EventType.DASHBOARD_TEMPLATE_VAR_CHANGE]: TemplateVariableValue[];\n    [EventType.DASHBOARD_CUSTOM_WIDGET_OPTIONS_CHANGE]: {\n        [key: string]: string | boolean;\n    };\n\n    // Modals\n    [EventType.MODAL_CLOSE]: ModalDefinition;\n    [EventType.MODAL_CANCEL]: ModalDefinition;\n    [EventType.MODAL_ACTION]: ModalDefinition;\n\n    // Auth\n    [EventType.AUTH_STATE_CHANGE]: AuthState<AuthStateArgs>;\n    [EventType.API_ACCESS_CHANGE]: APIAccessChangeEvent;\n}\n\nexport class DDEventsClient<AuthStateArgs = unknown> {\n    private readonly client: DDClient<AuthStateArgs>;\n\n    constructor(client: DDClient<AuthStateArgs>) {\n        this.client = client;\n    }\n\n    /**\n     * Adds event handler to execute on a certain event type from the parent. Returns an unsubscribe\n     * method. This method can be called before handshake is successful, but handlers will not execute until\n     * after. Will print an error if the installed app does not have the required features to handle the event type.\n     */\n    on<K extends keyof DDEventDataTypes<AuthStateArgs>>(\n        eventType: K,\n        handler: EventHandler<DDEventDataTypes<AuthStateArgs>[K]>\n    ): () => void {\n        // first, immediately subscribe\n        const unsubscribe = this.client.framePostClient.on(eventType, handler);\n\n        // kick off async process to message access errors after handshake succeeds.\n        // failure also unsubscribes. This routine is to message errors to devs.\n        // actual gating of events happens in the main datadog UI\n        this.client\n            .getContext()\n            .then(context => {\n                const canHandleEvent = isEventEnabled(\n                    eventType,\n                    context.app.features\n                );\n\n                if (!canHandleEvent) {\n                    unsubscribe();\n                    this.client.logger.error(\n                        `Your app does not have the required features enabled to respond to events of type ${eventType}.`\n                    );\n                }\n            })\n            .catch(() => {});\n\n        return unsubscribe;\n    }\n\n    /**\n     * Adds event handler to execute on a custom event from the parent. Returns an unsubscribe\n     * method. This method can be called before handshake is successful, but handlers will not execute until\n     * after. Will print an error if the installed app does not have the custom_events feature enabled\n     */\n    onCustom<T = any>(eventType: string, handler: EventHandler<T>) {\n        const wrappedHandler: EventHandler<CustomEventPayload<T>> = payload => {\n            if (payload.eventType === eventType) {\n                handler(payload.data);\n            }\n        };\n        return this.on(EventType.CUSTOM_EVENT, wrappedHandler);\n    }\n\n    /**\n     * Broadcasts a custom event to all active iframes. Returns a list of the iframe urls that received the event\n     * for debug purposes\n     */\n    async broadcast<T = any>(eventType: string, data: T) {\n        return this.client.framePostClient.request<\n            CustomEventPayload<T>,\n            undefined\n        >(RequestType.EVENT_BROADCAST, {\n            eventType,\n            data\n        });\n    }\n}\n\nexport interface CustomEventPayload<T> {\n    eventType: string;\n    data: T;\n}\n","import { FeatureType, EventType } from '../constants';\nimport { Feature } from '../types';\n\nexport const dashboardCogMenu: Feature = {\n    type: FeatureType.DASHBOARD_COG_MENU,\n    events: [EventType.DASHBOARD_COG_MENU_CLICK]\n};\n","import { FeatureType, EventType } from '../constants';\nimport { Feature } from '../types';\n\nexport const dashboardCustomWidget: Feature = {\n    type: FeatureType.DASHBOARD_CUSTOM_WIDGET,\n    events: [\n        EventType.DASHBOARD_CUSTOM_WIDGET_OPTIONS_CHANGE,\n        EventType.DASHBOARD_TEMPLATE_VAR_CHANGE,\n        EventType.DASHBOARD_TIMEFRAME_CHANGE,\n        EventType.DASHBOARD_CURSOR_CHANGE,\n        EventType.WIDGET_SETTINGS_MENU_CLICK\n    ]\n};\n","import { dashboardCogMenu } from './dashboard-cog-menu';\nimport { dashboardCustomWidget } from './dashboard-custom-widget';\nimport { modals } from './modals';\nimport { sidePanels } from './side-panels';\nimport { widgetContextMenu } from './widget-context-menu';\n\nexport const features = [\n    dashboardCogMenu,\n    dashboardCustomWidget,\n    modals,\n    sidePanels,\n    widgetContextMenu\n];\n","import { FeatureType, EventType } from '../constants';\nimport { Feature } from '../types';\n\nexport const modals: Feature = {\n    type: FeatureType.MODALS,\n    events: [\n        EventType.MODAL_CLOSE,\n        EventType.MODAL_CANCEL,\n        EventType.MODAL_ACTION\n    ]\n};\n","import { FeatureType, EventType } from '../constants';\nimport { Feature } from '../types';\n\nexport const sidePanels: Feature = {\n    type: FeatureType.SIDE_PANELS,\n    events: [EventType.SIDE_PANEL_CLOSE]\n};\n","import { FeatureType, EventType } from '../constants';\nimport { Feature } from '../types';\n\nexport const widgetContextMenu: Feature = {\n    type: FeatureType.WIDGET_CONTEXT_MENU,\n    events: [EventType.WIDGET_CONTEXT_MENU_CLICK]\n};\n","import { DDClient } from './client/client';\nimport { Context, ClientOptions } from './types';\n\nexport { resolveAuthFlow } from './auth/auth';\n\nlet client: DDClient;\n\n/**\n * Initializes a client, or returns an existing one if already initialized. User can provide an optional\n * callback to b de executed with app context data when it is sent from the parent.\n */\nexport const init = <AuthStateArgs = unknown>(\n    options?: ClientOptions<AuthStateArgs>,\n    callback?: (context: Context) => void\n): DDClient<AuthStateArgs> => {\n    if (!client) {\n        client = new DDClient(options);\n    }\n\n    if (callback) {\n        client.getContext().then(callback);\n    }\n\n    return client as DDClient<AuthStateArgs>;\n};\n\nexport * from './types';\nexport * from './constants';\n\nexport { DDClient };\n","import type { DDClient } from '../client/client';\nimport { RequestType } from '../constants';\n\nexport class DDLocationClient {\n    private readonly client: DDClient;\n\n    constructor(client: DDClient) {\n        this.client = client;\n    }\n\n    async goTo(url: string) {\n        return this.client.framePostClient.request<NavigateTopRequest>(\n            RequestType.NAVIGATE_TOP,\n            {\n                url\n            }\n        );\n    }\n}\n\nexport interface NavigateTopRequest {\n    url: string;\n}\n","import type { DDClient } from '../client/client';\nimport { FeatureType, RequestType } from '../constants';\nimport { DDFeatureClient } from '../shared/feature-client';\nimport type { ModalDefinition } from '../types';\nimport { validateKey } from '../utils/utils';\n\nexport class DDModalClient extends DDFeatureClient {\n    constructor(client: DDClient) {\n        super(client, FeatureType.MODALS);\n    }\n\n    /**\n     * Opens a modal, given a full modal definition or the key of a modal\n     * definition pre-defined in the app manifest\n     */\n    async open(definition: ModalDefinition, args?: unknown) {\n        await this.validateFeatureIsEnabled();\n\n        if (validateKey(definition)) {\n            return this.client.framePostClient.request(RequestType.OPEN_MODAL, {\n                definition,\n                args\n            });\n        }\n    }\n\n    /**\n     * Closes any active modals opened by this app. If a key is provided, it will only close the modal\n     * if it matches the provided key.\n     */\n    async close(key?: string) {\n        await this.validateFeatureIsEnabled();\n\n        return this.client.framePostClient.request(\n            RequestType.CLOSE_MODAL,\n            key\n        );\n    }\n}\n","/* eslint-disable no-undef */\nimport type { DDClient } from '../client/client';\nimport { RequestType } from '../constants';\n\nconst getLocalStorageKeys = () => {\n    // we cannot use Obbjey.keys because it doesn't work with the mocked localStorage Object.keys(window.localStorage)\n    return [...Array(window.localStorage.length)].map((_, i) =>\n        window.localStorage.key(i)\n    );\n};\nexport class DDSecretsClient {\n    private readonly client: DDClient;\n\n    constructor(client: DDClient) {\n        this.client = client;\n\n        this.registerRequestHandlers();\n    }\n\n    private registerRequestHandlers() {\n        this.client.framePostClient.onRequest(\n            RequestType.STORE_SECRET,\n            this.handleStoreSecretRequest.bind(this)\n        );\n\n        this.client.framePostClient.onRequest(\n            RequestType.LOAD_SECRET,\n            this.handleLoadSecretRequest.bind(this)\n        );\n\n        this.client.framePostClient.onRequest(\n            RequestType.LOAD_ALL_SECRETS,\n            this.handleLoadAllSecretsRequest.bind(this)\n        );\n\n        this.client.framePostClient.onRequest(\n            RequestType.REMOVE_ALL_SECRETS,\n            this.handleRemoveAllSecretsRequest.bind(this)\n        );\n\n        this.client.framePostClient.onRequest(\n            RequestType.REMOVE_SECRET,\n            this.handleRemoveSecretRequest.bind(this)\n        );\n    }\n\n    private handleStoreSecretRequest({ key, secret }: StoreSecretRequest) {\n        try {\n            window.localStorage.setItem(key, secret);\n            return true;\n        } catch (error) {\n            // the user has disabled storage or if the quota has been exceeded\n            return false;\n        }\n    }\n\n    private handleLoadSecretRequest({ key }: LoadSecretRequest) {\n        try {\n            return window.localStorage.getItem(key);\n        } catch (error) {\n            // the user has disabled storage or if the quota has been exceeded\n            return false;\n        }\n    }\n\n    private handleLoadAllSecretsRequest({ prefix }: LoadAllSecretsRequest) {\n        try {\n            const keys = getLocalStorageKeys().filter(\n                key => key && key.startsWith(prefix)\n            );\n\n            const result = keys.reduce((agg: any, key: string | null) => {\n                agg[key!] = window.localStorage.getItem(key!);\n                return agg;\n            }, {});\n            return result;\n        } catch (error) {\n            // the user has disabled storage or if the quota has been exceeded\n            return false;\n        }\n    }\n\n    private handleRemoveSecretRequest({ key }: RemoveSecretRequest) {\n        try {\n            window.localStorage.removeItem(key);\n            return true;\n        } catch (error) {\n            // the user has disabled storage or if the quota has been exceeded\n            return false;\n        }\n    }\n\n    private handleRemoveAllSecretsRequest({ prefix }: RemoveAllSecretsRequest) {\n        try {\n            getLocalStorageKeys()\n                .filter(key => key && key.startsWith(prefix))\n\n                .forEach(key => key && window.localStorage.removeItem(key));\n\n            return true;\n        } catch (error) {\n            // the user has disabled storage or if the quota has been exceeded\n            return false;\n        }\n    }\n\n    // returns a promises that resolves with the decrypted secret for a given key\n    async get(key: string) {\n        return this.client.framePostClient.request(RequestType.GET_SECRET, key);\n    }\n\n    async set(key: string, data: string) {\n        return this.client.framePostClient.request(RequestType.SET_SECRET, {\n            key,\n            data\n        });\n    }\n\n    async remove(key: string) {\n        return this.client.framePostClient.request(\n            RequestType.REMOVE_SECRET_PUBLIC,\n            key\n        );\n    }\n}\n\nexport interface StoreSecretRequest {\n    key: string;\n    secret: string;\n}\n\nexport interface LoadAllSecretsRequest {\n    prefix: string;\n}\nexport interface RemoveAllSecretsRequest {\n    prefix: string;\n}\n\nexport interface LoadSecretRequest {\n    key: string;\n}\nexport interface RemoveSecretRequest {\n    key: string;\n}\n","import type { DDClient } from '../client/client';\nimport type { FeatureType } from '../constants';\nimport { isFeatureEnabled } from '../utils/utils';\n\nexport class DDFeatureClient {\n    protected readonly client: DDClient;\n    protected readonly featureType: FeatureType;\n\n    constructor(client: DDClient, featureType: FeatureType) {\n        this.client = client;\n        this.featureType = featureType;\n    }\n\n    private async isEnabled(): Promise<boolean> {\n        const context = await this.client.getContext();\n\n        const {\n            app: { features }\n        } = context;\n\n        return isFeatureEnabled(this.featureType, features);\n    }\n\n    protected async validateFeatureIsEnabled() {\n        // will throw a handshake error if handshake fails\n        await this.client.framePostClient.handshake();\n\n        const isEnabled = await this.isEnabled();\n\n        if (!isEnabled) {\n            throw new Error(\n                `Please enable the \"${this.featureType}\" feature to access this functionality.`\n            );\n        }\n    }\n}\n","import type { DDClient } from '../client/client';\nimport { FeatureType, RequestType } from '../constants';\nimport { DDFeatureClient } from '../shared/feature-client';\nimport { SidePanelDefinition } from '../types';\nimport { validateKey } from '../utils/utils';\n\nexport class DDSidePanelClient extends DDFeatureClient {\n    constructor(client: DDClient) {\n        super(client, FeatureType.SIDE_PANELS);\n    }\n\n    /**\n     * Opens a side panel, given a full side panel definition or the key of a side panel\n     * definition pre-defined in the app manifest\n     */\n    async open(definition: SidePanelDefinition, args?: unknown) {\n        await this.validateFeatureIsEnabled();\n\n        if (validateKey(definition)) {\n            return this.client.framePostClient.request(\n                RequestType.OPEN_SIDE_PANEL,\n                { definition, args }\n            );\n        }\n    }\n\n    /**\n     * Closes any active side panels opened by this app. If a key is provided, it will only close the side panel\n     * if it matches the provided key.\n     */\n    async close(key?: string) {\n        await this.validateFeatureIsEnabled();\n\n        return this.client.framePostClient.request(\n            RequestType.CLOSE_SIDE_PANEL,\n            key\n        );\n    }\n}\n","/* eslint-disable no-console */\nimport type { DDClient } from '../client/client';\n\nexport class Logger {\n    private readonly client: DDClient;\n\n    constructor(client: DDClient) {\n        this.client = client;\n    }\n\n    private getPrefix(): string {\n        return `dd-apps@${window.location.href}: `; // eslint-disable-line\n    }\n\n    // TODO: would be nice to prefix with some info about the app\n    log(message: string) {\n        if (this.client.debug) {\n            return console.log(`${this.getPrefix()}${message}`);\n        }\n    }\n\n    error(message: string) {\n        if (this.client.debug) {\n            return console.error(`${this.getPrefix()}${message}`);\n        }\n    }\n}\n","import { EventType, FeatureType, enabledEvents } from '../constants';\nimport { features } from '../features';\nimport type { DefinitionWithKey } from '../types';\n\nconst memoize = <T>(getter: () => T): (() => T) => {\n    let executed = false;\n    let value: T;\n\n    return () => {\n        if (!executed) {\n            value = getter();\n            executed = true;\n        }\n\n        return value;\n    };\n};\n\nexport const isFeatureEnabled = (\n    feature: FeatureType,\n    enabledFeatures: FeatureType[]\n): boolean => enabledFeatures.includes(feature);\n\nexport const getFeatureTypesByEvent = memoize(\n    (): Map<EventType, Set<FeatureType>> => {\n        const featureTypesByEvent = new Map<EventType, Set<FeatureType>>();\n\n        features.forEach(feature => {\n            feature.events.forEach((e: EventType) => {\n                if (!featureTypesByEvent.has(e)) {\n                    featureTypesByEvent.set(e, new Set());\n                }\n\n                featureTypesByEvent.get(e)!.add(feature.type);\n            });\n        });\n\n        return featureTypesByEvent;\n    }\n);\n\nexport const isEventEnabled = (\n    event: EventType,\n    enabledFeatures: FeatureType[]\n): boolean => {\n    if (enabledEvents.has(event)) {\n        return true;\n    }\n\n    const featureTypesByEvent = getFeatureTypesByEvent();\n\n    // get the set of features that enable this event\n    const enablingFeatures = featureTypesByEvent.get(event as EventType);\n\n    // if no enabling feature found, event is unknown\n    if (!enablingFeatures) {\n        return false;\n    }\n\n    return enabledFeatures.some(feature => enablingFeatures.has(feature));\n};\n\nexport const isDefinitionWithKey = (\n    defenition: any\n): defenition is DefinitionWithKey => !!defenition.key;\n\nexport const validateKey = <T = any>(definition: T): boolean => {\n    if (!isDefinitionWithKey(definition)) {\n        throw new Error('Definition missing required field \".key\"');\n    }\n\n    return true;\n};\n\n/**\n * Typescript utility type, takes an interface and makes the specified keys required\n * Example: RequireKeys<MyType, 'a' | 'b'>\n */\nexport type RequireKeys<T, K extends keyof T> = {\n    [X in Exclude<keyof T, K>]?: T[X];\n} &\n    {\n        [P in K]-?: T[P];\n    };\n","import type { DDClient } from '../client/client';\nimport { FeatureType, RequestType } from '../constants';\nimport { DDFeatureClient } from '../shared/feature-client';\nimport type {\n    GetWidgetContextMenuItemsRequest,\n    GetWidgetContextMenuItemsResponse\n} from '../types';\nimport { validateKey } from '../utils/utils';\n\nconst emptyConfig: GetWidgetContextMenuItemsResponse = { items: [] };\n\nexport class DDWidgetContextMenuClient extends DDFeatureClient {\n    constructor(client: DDClient) {\n        super(client, FeatureType.WIDGET_CONTEXT_MENU);\n\n        // initialize with an empty reponse handler\n        this.onRequest(() => emptyConfig);\n    }\n\n    /**\n     * Registers a request handler for providing context menu items dynamically\n     */\n    onRequest(\n        requestHandler: (\n            context: GetWidgetContextMenuItemsRequest\n        ) =>\n            | GetWidgetContextMenuItemsResponse\n            | Promise<GetWidgetContextMenuItemsResponse>\n    ) {\n        const wrappedHandler = async (\n            context: GetWidgetContextMenuItemsRequest\n        ): Promise<GetWidgetContextMenuItemsResponse> => {\n            await this.validateFeatureIsEnabled();\n\n            const { items } = await requestHandler(context);\n\n            return {\n                items: items.filter(item => {\n                    try {\n                        validateKey(item);\n                    } catch (e) {\n                        this.client.logger.error(e.message);\n\n                        return false;\n                    }\n\n                    return true;\n                })\n            };\n        };\n\n        this.client.framePostClient.onRequest(\n            RequestType.GET_WIDGET_CONTEXT_MENU_ITEMS,\n            wrappedHandler\n        );\n\n        // return an unsubscribe hook\n        return () => {\n            this.onRequest(() => emptyConfig);\n        };\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(607);\n"],"sourceRoot":""}